@using ESchool.Helpers
@model ESchool.Models.Course.CourseVM

@{
    ViewData["Title"] = "Детали курса";
}

<h1>Курс</h1>
<input type="hidden" id="courseId" name="@Html.NameFor(modelItem => Model.course.Id);" class="courseId" value="@Html.DisplayFor(modelItem => Model.course.Id)" />
<div>
    <h4>Детали</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            Название
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.course.CourseName)
        </dd>
        <dt class = "col-sm-2">
           О курсе
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayTextFor(model => model.course.Description)
        </dd>
        <dt class="col-sm-2">
            Длительность курса
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.course.CourseStart) - @Html.DisplayFor(model => model.course.CourseEnd)
        </dd>
        <dt class="col-sm-2">
            Преподаватель
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.TeacherName)
        </dd>
    </dl>
</div>
<div>
    @if (User.IsInRole(Roles.Admin) || User.IsInRole(Roles.Student))
    {
        <a id ="regButton" class="btn btn-primary " asp-controller="Courses" asp-action="RegisterToCourse" asp-route-id="@Model.course.Id">Регистрировать</a>
    }
    @if (User.IsInRole(Roles.Admin) || User.IsInRole(Roles.Teacher))
    {
        <a asp-controller="Courses" asp-action="Edit" asp-route-id="@Model.course.Id">Редактировать</a>
    }
    <br />
    <br />
    <a asp-action="Index">Назад</a>
</div>

@*<script>
    $(document).ready(function () {
        $("#regButton").click(function () {
            $(".rb").show();
            $(".rb").attr("disabled", true);
        });
    });

</script>*@